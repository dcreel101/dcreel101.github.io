---
import * as PathUtils from "@lib/PathUtils";
import * as EntryUtils from "@lib/EntryUtils";
import CollectionMedia, { type MediaInfo } from "./CollectionMedia.astro";

export interface Props {
  entry: EntryUtils.Entry;
  fileName: string;
  alt?: string;
  class?: string;
  useLightbox?: boolean;
}

const {
  entry,
  fileName,
  alt,
  class: className,
  useLightbox = false,
} = Astro.props;

const mediaInfo: MediaInfo = {
  collection: entry.collection,
  folder: PathUtils.getPathFromId(entry.id),
  fileName: fileName,
};
---

<CollectionMedia
  mediaInfo={mediaInfo}
  alt={alt}
  class={className ?? "w-full max-h-[32rem]"}
  useLightbox={useLightbox}
/>
